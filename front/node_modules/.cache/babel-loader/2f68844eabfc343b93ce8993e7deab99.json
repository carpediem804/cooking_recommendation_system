{"remainingRequest":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\src\\components\\Login.vue","mtime":1544499194641},{"path":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544186292430},{"path":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1544186290334},{"path":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544186292430},{"path":"C:\\Users\\mhmrm\\Desktop\\찌르레기\\team_project\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1544186326628}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from 'firebase';\nimport BField from \"buefy/src/components/field/Field\";\nimport BInput from \"buefy/src/components/input/Input\";\nexport default {\n  name: 'login',\n  components: {\n    BField: BField,\n    BInput: BInput\n  },\n  props: {},\n  data: function data() {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      this.email = document.getElementById(\"user_email\").value;\n      this.password = document.getElementById(\"user_password\").value;\n      firebase.auth().signInWithEmailAndPassword(this.email, this.password).catch(function (err) {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n            {\n              alert('유효하지 않은 메일입니다');\n              break;\n            }\n\n          case \"auth/wrong-password\":\n            {\n              alert('잘못된 패스워드 입니다.');\n              break;\n            }\n        }\n      }).then(function (res) {\n        var user = res.user;\n        _this.$store.state.user = res.user;\n        _this.$store.state.loggedIn = true;\n        localStorage.setItem('newUser', JSON.stringify(user));\n        localStorage.setItem('logState', _this.$store.state.loggedIn);\n        alert(\"로그인\");\n\n        _this.$parent.close();\n      });\n    },\n    logout: function logout() {\n      var _this2 = this;\n\n      firebase.auth().signOut().catch(function (err) {\n        alert(err);\n      }).then(function () {\n        localStorage.clear();\n        _this2.$store.state.user = {};\n        _this2.$store.state.loggedIn = false;\n        alert(\"로그아웃\");\n        window.location.reload(true);\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,QAAA,MAAA,UAAA;AACA,OAAA,MAAA,MAAA,kCAAA;AACA,OAAA,MAAA,MAAA,kCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA,MAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA,EAHA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AAAA;;AACA,WAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA,KAAA;AACA,WAAA,QAAA,GAAA,QAAA,CAAA,cAAA,CAAA,eAAA,EAAA,KAAA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,0BAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,EAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA;AAEA,eAAA,oBAAA;AAAA;AACA,cAAA,KAAA,CAAA,eAAA,CAAA;AACA;AACA;;AACA,eAAA,qBAAA;AAAA;AACA,cAAA,KAAA,CAAA,eAAA,CAAA;AACA;AACA;AATA;AAWA,OAZA,EAYA,IAZA,CAYA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,KAAA;AACA,OApBA;AAsBA,KA1BA;AA2BA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,OAAA,GAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA;AACA,OAFA,EAEA,IAFA,CAEA,YAAA;AACA,QAAA,YAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,IAAA;AACA,OARA;AASA;AArCA;AAXA,CAAA","sourcesContent":["<template>\r\n<div>\r\n    <div class=\"modal-card\" id=\"log_form\">\r\n        <header class=\"modal-card-head\"><h2 class=\"modal-card-title\">로그인</h2></header>\r\n        <section class=\"modal-card-body\">\r\n            <b-field>\r\n                <b-input type=\"text\" id=\"user_email\" placeholder=\"이메일\" autocomplete=\"off\"></b-input>\r\n            </b-field>\r\n            <b-field>\r\n                <b-input type=\"password\" id=\"user_password\" placeholder=\"비밀번호\"></b-input>\r\n            </b-field>\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <b-field id=\"button_center\">\r\n                <button class=\"button is-link\" type=\"button\" value=\"로그인\" v-on:click=\"login()\">로그인</button>\r\n                <button class=\"button\" type=\"button\" @click=\"$parent.close()\">취소</button>\r\n            </b-field>\r\n        </footer>\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase'\r\nimport BField from \"buefy/src/components/field/Field\";\r\nimport BInput from \"buefy/src/components/input/Input\";\r\n\r\nexport default{\r\n    name:'login',\r\n    components: {BField,BInput},\r\n    props:{\r\n    },\r\n    data(){\r\n        return{\r\n            email:'',\r\n            password:'',\r\n        }\r\n    },\r\n    methods:{\r\n        login:function(){\r\n            this.email=document.getElementById(\"user_email\").value\r\n            this.password=document.getElementById(\"user_password\").value\r\n            firebase.auth().signInWithEmailAndPassword(this.email,this.password).catch(function(err){\r\n                switch(err.code)\r\n                {\r\n                    case \"auth/invalid-email\": {\r\n                        alert('유효하지 않은 메일입니다');\r\n                        break;\r\n                    }\r\n                    case \"auth/wrong-password\":{\r\n                        alert('잘못된 패스워드 입니다.');\r\n                        break;\r\n                    }\r\n                }\r\n            }).then((res)=>{\r\n                let user=res.user\r\n                this.$store.state.user=res.user\r\n                this.$store.state.loggedIn=true\r\n                localStorage.setItem('newUser',JSON.stringify(user))\r\n                localStorage.setItem('logState',this.$store.state.loggedIn)\r\n                alert(\"로그인\")\r\n                this.$parent.close()\r\n            })\r\n\r\n        },\r\n        logout:function(){\r\n            firebase.auth().signOut().catch(function(err){\r\n                alert(err)\r\n            }).then(()=>{\r\n                localStorage.clear()\r\n                this.$store.state.user={}\r\n                this.$store.state.loggedIn=false\r\n                alert(\"로그아웃\")\r\n                window.location.reload(true)\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #log_form{\r\n        margin:auto;\r\n        width:250px;\r\n    }\r\n    #button_center{\r\n        margin:auto;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src\\components"}]}